package com.chengxin.adapter;import java.util.List;import com.chengxin.R;import com.chengxin.Entity.MerchantGoods;import com.chengxin.Entity.MerchantInfo;import com.chengxin.Entity.Picture;import com.chengxin.adapter.MerchantInfoAdapter.ViewHolder;import com.chengxin.global.ImageLoader;import android.content.Context;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.view.View.OnClickListener;import android.widget.BaseAdapter;import android.widget.ImageView;import android.widget.TextView;public class MerchantGoodsAdapter extends BaseAdapter {	private List<MerchantGoods> mList;	private Context mContext;	private LayoutInflater mInflater;	private ImageLoader mImageLoader;	public MerchantGoodsAdapter(Context context, List<MerchantGoods> list) {		super();		this.mList = list;		this.mContext = context;		mInflater = LayoutInflater.from(context);		mImageLoader = new ImageLoader();	}	@Override	public int getCount() {		return mList.size();	}	@Override	public Object getItem(int position) {		return mList.get(position);	}	@Override	public long getItemId(int position) {		return Integer.valueOf(mList.get(position).id).longValue();	}	@Override	public View getView(int position, View convertView, ViewGroup parent) {		ViewHolder holder;		if (convertView == null) {			convertView = mInflater.inflate(R.layout.merchant_goods_item, null);			holder = new ViewHolder();			holder.image1 = (ImageView)convertView.findViewById(R.id.image01);			holder.image2 = (ImageView)convertView.findViewById(R.id.image02);			holder.image3 = (ImageView)convertView.findViewById(R.id.image03);			holder.image4 = (ImageView)convertView.findViewById(R.id.image04);			holder.image5 = (ImageView)convertView.findViewById(R.id.image05);						holder.content = (TextView)convertView.findViewById(R.id.text_content);			convertView.setTag(holder);		}else{			holder = (ViewHolder) convertView.getTag();		}		final MerchantGoods item = mList.get(position);		holder.content.setText(String.format("%s    %.2f å…ƒ", item.name, item.price));		ImageView imageview[] = {holder.image1, holder.image2, holder.image3, holder.image4, holder.image5};				int idx = 0;		if (item.attachment != null && item.attachment.size() > 0) {			for (int i = 0; i < item.attachment.size(); i++) {				Picture pic = item.attachment.get(i);				if (pic.smallUrl != null && !pic.smallUrl.equals("") && !pic.smallUrl.equals("null")) {					mImageLoader.getBitmap(mContext, imageview[idx], null, pic.smallUrl, 0, false, false, false);					imageview[idx].setVisibility(View.VISIBLE);					idx++;				}			}		}		for (int i = idx; i < imageview.length; i++) {			imageview[i].setVisibility(View.INVISIBLE);		}				return convertView;	}	public static class ViewHolder {		public ImageView image1;		public ImageView image2;		public ImageView image3;		public ImageView image4;		public ImageView image5;		public TextView content;		@Override		public int hashCode() {			return image1.hashCode() + image2.hashCode()					+ image3.hashCode() + image4.hashCode()					+ image5.hashCode() + content.hashCode();		}	}}