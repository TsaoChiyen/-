package com.chengxin.adapter;import java.util.List;import android.content.Context;import android.view.LayoutInflater;import android.view.View;import android.view.View.OnClickListener;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.ImageButton;import android.widget.TextView;import com.chengxin.R;import com.chengxin.Entity.ShopService;public class OrderShopServiceAdapter extends BaseAdapter {	public interface OnServiceContactListener {		public void onChatWithUid(String uid);		public void onCallPhone(String phone);	}		private List<ShopService> mList;	private LayoutInflater mInflater;	protected OnServiceContactListener mOnServiceContactListener;		public void setOnServiceContactListener(OnServiceContactListener listener) {		mOnServiceContactListener = listener;	}	public OrderShopServiceAdapter(Context context, List<ShopService> list) {		super();		mList = list;		mInflater = LayoutInflater.from(context); 	}	@Override	public int getCount() {		return mList.size();	}	@Override	public Object getItem(int position) {		return mList.get(position);	}	@Override	public long getItemId(int position) {		return Integer.valueOf(mList.get(position).id).longValue();	}	@Override	public View getView(int position, View convertView, ViewGroup parent) {		ViewHolder holder;		if (convertView == null) {			convertView = mInflater.inflate(R.layout.shop_service_item, null);			holder = new ViewHolder();			holder.title = (TextView)convertView.findViewById(R.id.service_title);			holder.sumary  = (TextView)convertView.findViewById(R.id.text_service_sumary);			holder.btnChat 	= (ImageButton)convertView.findViewById(R.id.btn_chat);			holder.btnCall = (ImageButton)convertView.findViewById(R.id.btn_call);			convertView.setTag(holder);		}else{			holder = (ViewHolder) convertView.getTag();		}		final ShopService item = mList.get(position);				if (position == 0) {			holder.title.setVisibility(View.VISIBLE);		}				String m_name = "客服名称：";		String m_phone = "联系电话：";				if (item.name != null && !item.name.equals("") && !item.name.equals("null")) {			m_name = m_name + item.name;		}		if (item.username != null && !item.username.equals("") && !item.username.equals("null")) {			m_phone = m_phone + item.username;		}				holder.sumary.setText(m_name + "\n" + m_phone);		holder.btnChat.setOnClickListener(new OnClickListener() {						@Override			public void onClick(View v) {				if (mOnServiceContactListener != null) {					mOnServiceContactListener.onChatWithUid(item.uid);				}			}		});				holder.btnCall.setOnClickListener(new OnClickListener() {						@Override			public void onClick(View v) {				if (mOnServiceContactListener != null) {					mOnServiceContactListener.onCallPhone(item.username);				}			}		});		return convertView;	}		public final static class ViewHolder {		public TextView title;		public ImageButton btnChat;		public ImageButton btnCall; 		public TextView sumary;		@Override		public int hashCode() {			return this.title.hashCode() + this.sumary.hashCode()					+ this.btnChat.hashCode() + this.btnCall.hashCode();		}	}}