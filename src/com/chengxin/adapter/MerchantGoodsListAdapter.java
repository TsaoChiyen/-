package com.chengxin.adapter;import java.util.List;import android.content.Context;import android.view.LayoutInflater;import android.view.View;import android.view.View.OnClickListener;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.ImageView;import android.widget.TextView;import com.chengxin.R;import com.chengxin.Entity.MerchantGoods;import com.chengxin.global.ImageLoader;public class MerchantGoodsListAdapter extends BaseAdapter {	public interface OnMerchantGoodsClickListener {		public void onClick(View v, int Position, int uid);	}	public int type = 0;		private List<MerchantGoods> mList;	private Context mContext;	private LayoutInflater mInflater;	private ImageLoader mImageLoader;	private OnMerchantGoodsClickListener mOnClickListener = null;	public void setOnMerchantGoodsClickListener(OnMerchantGoodsClickListener l) {		mOnClickListener = l;	}		public MerchantGoodsListAdapter(Context context, List<MerchantGoods> list) {		super();		this.mList = list;		this.mContext = context;		mInflater = LayoutInflater.from(context);		mImageLoader = new ImageLoader();	}	@Override	public int getCount() {		return mList.size();	}	@Override	public Object getItem(int position) {		return mList.get(position);	}	@Override	public long getItemId(int position) {		return Integer.valueOf(mList.get(position).id).longValue();	}	@Override	public View getView(final int position, View convertView, ViewGroup parent) {		ViewHolder holder;		if (convertView == null) {			convertView = mInflater.inflate(R.layout.financing_goods_item, null);			holder = new ViewHolder();			holder.icon = (ImageView)convertView.findViewById(R.id.head_icon);						holder.sumary = (TextView)convertView.findViewById(R.id.goods_sumary);			holder.feature = (TextView)convertView.findViewById(R.id.features);			holder.material = (TextView)convertView.findViewById(R.id.material);			holder.btn = (TextView)convertView.findViewById(R.id.btn_asking);			if (type == 1) {				holder.feature.setVisibility(View.GONE);				holder.btn.setText("删除");			}			convertView.setTag(holder);		}else{			holder = (ViewHolder) convertView.getTag();		}		final MerchantGoods item = mList.get(position);		if (item.attachment != null && item.attachment.size() > 0) {			String url = item.attachment.get(0).smallUrl;						if (url != null && !url.equals("") && !url.equals("null")) {				mImageLoader.getBitmap(mContext, holder.icon, null, url, 0, false, false, false);			}		}				String sumary = "名称: " + item.name;		holder.sumary.setText(sumary);		if (item.price > 0) {			holder.material.setText(String.format("价格: %.2f", item.price));		}				holder.btn.setOnClickListener(new OnClickListener() {						@Override			public void onClick(View v) {				if (mOnClickListener != null) {					mOnClickListener.onClick(v, position, Integer.valueOf(item.uid));				}			}		});				return convertView;	}		public static class ViewHolder {		public ImageView icon;		public TextView sumary;		public TextView feature; 		public TextView material;		public TextView btn;		@Override		public int hashCode() {			return this.icon.hashCode() + this.sumary.hashCode()					+ this.feature.hashCode() + this.material.hashCode()					+ this.btn.hashCode();		}	}}