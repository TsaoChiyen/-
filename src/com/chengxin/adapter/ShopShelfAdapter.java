package com.chengxin.adapter;import java.util.List;import com.chengxin.R;import com.chengxin.Entity.Goods;import com.chengxin.global.ImageLoader;import android.content.Context;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.CheckBox;import android.widget.CompoundButton;import android.widget.ImageView;import android.widget.TextView;import android.widget.CompoundButton.OnCheckedChangeListener;public class ShopShelfAdapter extends BaseAdapter {	private Context mContext;	private ImageLoader mImageLoader;	private LayoutInflater mInflater;	private List < Goods > listData;	public ShopShelfAdapter(Context context, List<Goods> data) {		super();				mContext = context;		listData = data;		mInflater = LayoutInflater.from(mContext); 		mImageLoader = new ImageLoader();	}	@Override	public int getCount() {		return listData.size();	}	@Override	public Object getItem(int position) {		return listData.get(position);	}	@Override	public long getItemId(int position) {		return Integer.valueOf(listData.get(position).id).intValue(); 	}	@Override	public View getView(int position, View convertView, ViewGroup parent) {		ViewHolder holder;		if (convertView == null) {			convertView = mInflater.inflate(R.layout.shop_shelf_item, null);			holder = new ViewHolder();			holder.mCheckBox  = (CheckBox)convertView.findViewById(R.id.chk_select);			holder.mImage     = (ImageView)convertView.findViewById(R.id.goods_icon);			holder.mGoodsName = (TextView) convertView.findViewById(R.id.goods_name);			holder.mPrice 	  = (TextView) convertView.findViewById(R.id.goods_price);			holder.mNumber    = (TextView)convertView.findViewById(R.id.txt_number);			holder.mStatus    = (TextView)convertView.findViewById(R.id.txt_tatus);			convertView.setTag(holder);		}else{			holder = (ViewHolder) convertView.getTag();		}		final Goods item = listData.get(position);				if (item.name != null && !item.name.equals("") && !item.name.equals("null"))			holder.mGoodsName.setText(item.name);				holder.mPrice.setText(String.valueOf(item.price));				if(item.pictureList.size() > 0) {			String icon = item.pictureList.get(0).smallUrl; 			mImageLoader.getBitmap(mContext, holder.mImage, null, icon, 0, false, false,false);		}		holder.mNumber.setText(String.valueOf(item.number));		holder.mStatus.setText(item.status == 2 ? "已上架" : "未上架");		holder.mCheckBox.setOnCheckedChangeListener(new OnCheckedChangeListener() {						@Override			public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {				item.selected = isChecked;			}		});				return convertView;	}	public final static class ViewHolder {		public CheckBox mCheckBox;		public ImageView mImage;		public TextView mGoodsName; 		public TextView mPrice;		public TextView mNumber;		public TextView mStatus;		@Override		public int hashCode() {			return this.mCheckBox.hashCode() + this.mGoodsName.hashCode()					+ this.mPrice.hashCode() + this.mImage.hashCode()					+ this.mNumber.hashCode() + this.mStatus.hashCode();		}	}}