package com.chengxin.financial;import android.content.Intent;import android.os.Bundle;import android.view.View;import android.widget.Button;import android.widget.EditText;import android.widget.LinearLayout;import android.widget.TextView;import android.widget.Toast;import com.chengxin.BaseActivity;import com.chengxin.R;import com.chengxin.Entity.FinancingGoods;public class FinancingProductInfoActivity extends BaseActivity {	private FinancingGoods mFinancingGoods = null;	private EditText mEditProduct;	private EditText mEditType;	private EditText mEditFeature;	private EditText mEditMaterial;	private LinearLayout mLayoutCharge;	private TextView mBtnCharge;	private EditText mEditCharge;	private TextView mTextPromptDetail;	private Button mBtnSubmit;	private TextView mTextAdvPromptDetail;	private EditText mEditAdvBid;	private EditText mEditRankBid;	private TextView mBtnAdvBid;	private TextView mBtnRankBid;	@Override	protected void onCreate(Bundle savedInstanceState) {		super.onCreate(savedInstanceState);		mContext = this;		setContentView(R.layout.financing_product_info);		if (getIntent().hasExtra("data")) {			mFinancingGoods = (FinancingGoods)getIntent().getExtras().get("data");		}				if (mFinancingGoods == null) {			mFinancingGoods = new FinancingGoods();		}				initComponent();		getData();	}	private void initComponent() {		setTitleContent(R.drawable.back_btn, 0, "融资产品信息");		mLeftBtn.setOnClickListener(this);				mEditProduct = (EditText)findViewById(R.id.edit_product);		mEditType = (EditText)findViewById(R.id.edit_type);		mEditFeature = (EditText)findViewById(R.id.edit_feature);		mEditMaterial = (EditText)findViewById(R.id.edit_material);				mTextAdvPromptDetail = (TextView)findViewById(R.id.text_adv_prompt_detail);		mEditRankBid = (EditText)findViewById(R.id.edit_rank_bid);		mEditAdvBid = (EditText)findViewById(R.id.edit_adv_bid);		mBtnRankBid = (TextView)findViewById(R.id.btn_rank_bid);		mBtnAdvBid = (TextView)findViewById(R.id.btn_adv_bid);		mBtnRankBid.setOnClickListener(this);		mBtnAdvBid.setOnClickListener(this);		mLayoutCharge = (LinearLayout)findViewById(R.id.layout_charge);		mBtnCharge = (TextView)findViewById(R.id.btn_charge);		mEditCharge = (EditText)findViewById(R.id.edit_charge);		mTextPromptDetail = (TextView)findViewById(R.id.text_prompt_detail);		mLayoutCharge.setVisibility(View.VISIBLE);		mBtnSubmit = (Button)findViewById(R.id.btn_submit);				mBtnCharge.setOnClickListener(this);		mBtnSubmit.setOnClickListener(this);				if (mFinancingGoods == null || mFinancingGoods.id == 0) {			mBtnSubmit.setText("添加产品");			mBtnRankBid.setVisibility(View.INVISIBLE);			mBtnAdvBid.setVisibility(View.INVISIBLE);		}	}	private void getData() {		if (mFinancingGoods !=null && mFinancingGoods.id > 0) {			if (mFinancingGoods.name != null && !mFinancingGoods.name.equals("") && !mFinancingGoods.name.equals("null")) {				mEditProduct.setText(mFinancingGoods.name);			}			if (mFinancingGoods.type != null && !mFinancingGoods.type.equals("") && !mFinancingGoods.type.equals("null")) {				mEditType.setText(mFinancingGoods.type);			}			if (mFinancingGoods.features != null && !mFinancingGoods.features.equals("") && !mFinancingGoods.features.equals("null")) {				mEditFeature.setText(mFinancingGoods.features);			}						if (mFinancingGoods.material != null && !mFinancingGoods.material.equals("") && !mFinancingGoods.material.equals("null")) {				mEditMaterial.setText(mFinancingGoods.material);			}						if (mFinancingGoods.bidding > 0) {				mEditRankBid.setText(String.valueOf(mFinancingGoods.bidding));			}			if (mFinancingGoods.adPrice > 0) {				mEditAdvBid.setText(String.valueOf(mFinancingGoods.adPrice));			}			mTextAdvPromptDetail.setText("324芯币/次");			mTextPromptDetail.setText("10芯币＝1人民币");		}	}		@Override	public void onClick(View v) {		super.onClick(v);				switch (v.getId()) {		case R.id.left_btn:			this.finish();			break;		case R.id.btn_rank_bid:		case R.id.btn_adv_bid:			Toast.makeText(mContext, "测试期间，暂不提供竞价排名服务！", Toast.LENGTH_LONG).show();;			break;		case R.id.btn_charge:			Toast.makeText(mContext, "测试期间，暂不提供充值服务！", Toast.LENGTH_LONG).show();;			break;		case R.id.btn_submit:			submit();			break;		default:			break;		}	}	private void submit() {		if (!checkValue()) {			return;		}				Intent intent = new Intent();		intent.putExtra("data", mFinancingGoods);		setResult(RESULT_OK, intent);		this.finish();	}	private boolean checkValue() {		mFinancingGoods.name = mEditProduct.getText().toString();		mFinancingGoods.type = mEditType.getText().toString();		mFinancingGoods.features = mEditFeature.getText().toString();		mFinancingGoods.material = mEditMaterial.getText().toString();		mFinancingGoods.bidding= Double.valueOf(mEditRankBid.getText().toString());		mFinancingGoods.adPrice = Double.valueOf(mEditAdvBid.getText().toString());		String number = mEditCharge.getText().toString();				if (number == null || number.equals("")) {		}		String hint = null;				if (mFinancingGoods.name == null || mFinancingGoods.name.equals("")) {			hint = "请输入产品名称";		} else if (mFinancingGoods.type == null || mFinancingGoods.type.equals("")) {			hint = "请输入产品类型";		} else if (mFinancingGoods.features == null || mFinancingGoods.features.equals("")) {			hint = "请输入产品特征";		} else if (mFinancingGoods.material == null || mFinancingGoods.material.equals("")) {			hint = "请输入需要材料";		} else if (mFinancingGoods.bidding == 0) {			hint = "请输入竞价排名价格";		} else if (mFinancingGoods.adPrice == 0) {			hint = "请输入你的广告位出价";		}				if (hint != null && hint.length() > 0) {			Toast.makeText(mContext, hint, Toast.LENGTH_LONG).show();			return false;		}				return true;	}}